//
//  FlickrClientTests.swift
//  FlickrClientTests
//
//  Created by Chirag N Shah on 31/03/19.
//  Copyright Â© 2019 Chirag N Shah. All rights reserved.
//

import XCTest
@testable import FlickrClient

class MockNetworkManager: FlickrNetworkManagerProtocol & NetworkManagerProtocol {
    var flickr_api_key: String {
        return "mock_api_key"
    }
    
    func sendRequest(request: RequestProtocol, completion: @escaping (Response) -> Void) {
        if request.self is FlickrPhotosRequest {
           completion(Response.data(Data.init("{\"photos\":{\"page\":1,\"pages\":7962,\"perpage\":100,\"total\":\"796169\",\"photo\":[{\"id\":\"47507419281\",\"owner\":\"170125985@N07\",\"secret\":\"466ac3ce28\",\"server\":\"7884\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47507415131\",\"owner\":\"141318111@N08\",\"secret\":\"404423c99c\",\"server\":\"7896\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783626074\",\"owner\":\"166976895@N07\",\"secret\":\"e62c6a64ee\",\"server\":\"7883\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46591940045\",\"owner\":\"90535065@N03\",\"secret\":\"4e46df2766\",\"server\":\"7852\",\"farm\":8,\"title\":\"test123\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"40541445833\",\"owner\":\"90535065@N03\",\"secret\":\"377a0f443c\",\"server\":\"7809\",\"farm\":8,\"title\":\"test123\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47507403471\",\"owner\":\"58385232@N06\",\"secret\":\"78dd6a0d59\",\"server\":\"7875\",\"farm\":8,\"title\":\"31\\/03\\/19\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47507402781\",\"owner\":\"58385232@N06\",\"secret\":\"d3fdc2972e\",\"server\":\"7813\",\"farm\":8,\"title\":\"31\\/03\\/19\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783621744\",\"owner\":\"58385232@N06\",\"secret\":\"42631f9aae\",\"server\":\"7884\",\"farm\":8,\"title\":\"31\\/03\\/19\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47507402281\",\"owner\":\"58385232@N06\",\"secret\":\"38c78ce3f1\",\"server\":\"7926\",\"farm\":8,\"title\":\"31\\/03\\/19\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47454626362\",\"owner\":\"157158282@N04\",\"secret\":\"eac26150a0\",\"server\":\"7874\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47454619732\",\"owner\":\"157158282@N04\",\"secret\":\"40a9d7caa2\",\"server\":\"7866\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"40541417593\",\"owner\":\"141318111@N08\",\"secret\":\"d72186e1af\",\"server\":\"7862\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783596264\",\"owner\":\"157158282@N04\",\"secret\":\"bfeafdeedd\",\"server\":\"7895\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783593014\",\"owner\":\"164498211@N05\",\"secret\":\"cd55167ce0\",\"server\":\"7916\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"32565126577\",\"owner\":\"157158282@N04\",\"secret\":\"59fee02b95\",\"server\":\"7854\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47454594412\",\"owner\":\"37939196@N00\",\"secret\":\"4342151aae\",\"server\":\"7891\",\"farm\":8,\"title\":\"overdreven restauratie?\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783583924\",\"owner\":\"170125985@N07\",\"secret\":\"f98eab89e0\",\"server\":\"7832\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783576534\",\"owner\":\"170125985@N07\",\"secret\":\"571210c49c\",\"server\":\"7918\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47507348971\",\"owner\":\"28791544@N04\",\"secret\":\"9fee0a6b5c\",\"server\":\"7862\",\"farm\":8,\"title\":\"Walker\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783565034\",\"owner\":\"70335160@N00\",\"secret\":\"8914b00759\",\"server\":\"7849\",\"farm\":8,\"title\":\"\\u8036\\u91cc \\u7389\\u7c73\\u9baa\\u9b5a\\u4e39\\u9ea5\\u9eb5\\u5305\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47507302861\",\"owner\":\"32618149@N00\",\"secret\":\"bd1a6f8aff\",\"server\":\"7886\",\"farm\":8,\"title\":\"1000 cranes box\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47454489762\",\"owner\":\"8729883@N05\",\"secret\":\"ae4de9cd35\",\"server\":\"7866\",\"farm\":8,\"title\":\"Linee d\'argento\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"40541343193\",\"owner\":\"141318111@N08\",\"secret\":\"3486e6f814\",\"server\":\"7827\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47454528472\",\"owner\":\"130280285@N06\",\"secret\":\"f453e09e82\",\"server\":\"7911\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783519124\",\"owner\":\"145600256@N02\",\"secret\":\"1236179fb0\",\"server\":\"7852\",\"farm\":8,\"title\":\"Rule n 79\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47454521152\",\"owner\":\"170125985@N07\",\"secret\":\"f28f088315\",\"server\":\"7828\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47454515632\",\"owner\":\"126823783@N06\",\"secret\":\"661084376a\",\"server\":\"7904\",\"farm\":8,\"title\":\"Lucy and Zen, (2018).\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47454493732\",\"owner\":\"93799798@N00\",\"secret\":\"ee6a3c9818\",\"server\":\"7925\",\"farm\":8,\"title\":\"March 2019 mosaic\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"33630507878\",\"owner\":\"53109170@N08\",\"secret\":\"e068d9cc6e\",\"server\":\"7919\",\"farm\":8,\"title\":\"Kitty\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783343554\",\"owner\":\"9003948@N05\",\"secret\":\"95745ff70b\",\"server\":\"7887\",\"farm\":8,\"title\":\"Creekmouth Power Station\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783031124\",\"owner\":\"153988860@N02\",\"secret\":\"1e7f9038b1\",\"server\":\"7914\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-46-07\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783030964\",\"owner\":\"153988860@N02\",\"secret\":\"f3198ddb55\",\"server\":\"7892\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-46-28\",\"ispublic\":0,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506760091\",\"owner\":\"153988860@N02\",\"secret\":\"e0225c8620\",\"server\":\"7904\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-46-25\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506759991\",\"owner\":\"153988860@N02\",\"secret\":\"8b5c2184c4\",\"server\":\"7838\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-46-30\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783030824\",\"owner\":\"153988860@N02\",\"secret\":\"50e3c4f5ca\",\"server\":\"7808\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-46-36\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783030724\",\"owner\":\"153988860@N02\",\"secret\":\"918b723ba1\",\"server\":\"7832\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-46-40\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506759831\",\"owner\":\"153988860@N02\",\"secret\":\"62d9bd4444\",\"server\":\"7848\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-46-38\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506759671\",\"owner\":\"153988860@N02\",\"secret\":\"f2b6a07862\",\"server\":\"7918\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-46-58\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506759581\",\"owner\":\"153988860@N02\",\"secret\":\"fa6ee9e96f\",\"server\":\"7924\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-08\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783030604\",\"owner\":\"153988860@N02\",\"secret\":\"90734611c3\",\"server\":\"7806\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-03\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783030484\",\"owner\":\"153988860@N02\",\"secret\":\"ef34ffe742\",\"server\":\"7926\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-09\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506759361\",\"owner\":\"153988860@N02\",\"secret\":\"35b857eca5\",\"server\":\"7913\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-10\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783030314\",\"owner\":\"153988860@N02\",\"secret\":\"8937013bd3\",\"server\":\"7806\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-26\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783030364\",\"owner\":\"153988860@N02\",\"secret\":\"9ca80452eb\",\"server\":\"7860\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-14\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783030214\",\"owner\":\"153988860@N02\",\"secret\":\"89c79befc7\",\"server\":\"7844\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-35\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506759201\",\"owner\":\"153988860@N02\",\"secret\":\"e5b783c3fc\",\"server\":\"7843\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-31\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506759071\",\"owner\":\"153988860@N02\",\"secret\":\"a663a82c1e\",\"server\":\"7807\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-43\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783030104\",\"owner\":\"153988860@N02\",\"secret\":\"94c9aa8328\",\"server\":\"7802\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-49\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506758951\",\"owner\":\"153988860@N02\",\"secret\":\"192c4e391f\",\"server\":\"7845\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-47-52\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783029954\",\"owner\":\"153988860@N02\",\"secret\":\"1d9786c91e\",\"server\":\"7914\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-48-09\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506758791\",\"owner\":\"153988860@N02\",\"secret\":\"0f36e1c682\",\"server\":\"7924\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-48-11\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783029844\",\"owner\":\"153988860@N02\",\"secret\":\"d5fc702d55\",\"server\":\"7913\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-48-13\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506758631\",\"owner\":\"153988860@N02\",\"secret\":\"3f614892c8\",\"server\":\"7818\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-48-55\",\"ispublic\":0,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783029724\",\"owner\":\"153988860@N02\",\"secret\":\"cf2664ff0d\",\"server\":\"7918\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-48-56\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506758481\",\"owner\":\"153988860@N02\",\"secret\":\"1a3f00c22d\",\"server\":\"7914\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-48-58\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783029564\",\"owner\":\"153988860@N02\",\"secret\":\"8855d7f1db\",\"server\":\"7859\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-49-04\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783029424\",\"owner\":\"153988860@N02\",\"secret\":\"36a4125a2b\",\"server\":\"7866\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-49-27\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506758341\",\"owner\":\"153988860@N02\",\"secret\":\"01335b7803\",\"server\":\"7895\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-49-19\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783029284\",\"owner\":\"153988860@N02\",\"secret\":\"7b9347c28d\",\"server\":\"7814\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-49-37\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506758251\",\"owner\":\"153988860@N02\",\"secret\":\"42a22f03e1\",\"server\":\"7876\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-49-32\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506758131\",\"owner\":\"153988860@N02\",\"secret\":\"42920031bb\",\"server\":\"7803\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-49-48\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783029064\",\"owner\":\"153988860@N02\",\"secret\":\"bc94e592f3\",\"server\":\"7878\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-49-59\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506758031\",\"owner\":\"153988860@N02\",\"secret\":\"7e079f8555\",\"server\":\"7874\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-52-22\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783028974\",\"owner\":\"153988860@N02\",\"secret\":\"445db5d8aa\",\"server\":\"7863\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-52-24\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783028894\",\"owner\":\"153988860@N02\",\"secret\":\"b01a5da910\",\"server\":\"7892\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-52-25\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506757761\",\"owner\":\"153988860@N02\",\"secret\":\"d9672349ea\",\"server\":\"7919\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-52-26\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783028644\",\"owner\":\"153988860@N02\",\"secret\":\"82313e7d56\",\"server\":\"7910\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-53-31\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783028714\",\"owner\":\"153988860@N02\",\"secret\":\"4bf9ff3a41\",\"server\":\"7913\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-53-21\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506757591\",\"owner\":\"153988860@N02\",\"secret\":\"c5bd09b5c4\",\"server\":\"7843\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-53-28\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506757451\",\"owner\":\"153988860@N02\",\"secret\":\"e613e52494\",\"server\":\"7890\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-53-35\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783028504\",\"owner\":\"153988860@N02\",\"secret\":\"72ef670bcb\",\"server\":\"7852\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-53-40\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783028334\",\"owner\":\"153988860@N02\",\"secret\":\"2932d88ced\",\"server\":\"7896\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-54-22\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506757331\",\"owner\":\"153988860@N02\",\"secret\":\"f16e061469\",\"server\":\"7891\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-53-55\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506757201\",\"owner\":\"153988860@N02\",\"secret\":\"9e074d59fc\",\"server\":\"7913\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-54-43\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783028194\",\"owner\":\"153988860@N02\",\"secret\":\"40d31058c2\",\"server\":\"7903\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-54-51\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506757061\",\"owner\":\"153988860@N02\",\"secret\":\"b2819cf329\",\"server\":\"7806\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-54-58\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506756991\",\"owner\":\"153988860@N02\",\"secret\":\"81f76a9f95\",\"server\":\"7842\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-56-10\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783027964\",\"owner\":\"153988860@N02\",\"secret\":\"d099a8917e\",\"server\":\"7841\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-56-13\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506756851\",\"owner\":\"153988860@N02\",\"secret\":\"2278d8cef6\",\"server\":\"7800\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-56-31\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783027814\",\"owner\":\"153988860@N02\",\"secret\":\"74db80105c\",\"server\":\"7916\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-56-34\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783027684\",\"owner\":\"153988860@N02\",\"secret\":\"ce1a881fd2\",\"server\":\"7824\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-56-39\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506756681\",\"owner\":\"153988860@N02\",\"secret\":\"812d3511de\",\"server\":\"7900\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-56-37\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506756481\",\"owner\":\"153988860@N02\",\"secret\":\"b63b0cac99\",\"server\":\"7852\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-56-59\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783027604\",\"owner\":\"153988860@N02\",\"secret\":\"8155a93207\",\"server\":\"7803\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-31_15-57-09\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47506756291\",\"owner\":\"153988860@N02\",\"secret\":\"9a98e3e602\",\"server\":\"7888\",\"farm\":8,\"title\":\"FortniteClient-Win64-Shipping_2019-03-06_14-19-55\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"40541279703\",\"owner\":\"170125985@N07\",\"secret\":\"c9d07d8428\",\"server\":\"7917\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"32565007007\",\"owner\":\"69320968@N05\",\"secret\":\"ec453f2c14\",\"server\":\"7897\",\"farm\":8,\"title\":\"Sala BORSA Bologna\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46783483004\",\"owner\":\"77844259@N02\",\"secret\":\"d0901c5be7\",\"server\":\"7893\",\"farm\":8,\"title\":\"Solaris Urbino 12 ex-BU822 1 ul Lipowa Krak\\u00f3w 31mar2019 flickr\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47507245731\",\"owner\":\"170125985@N07\",\"secret\":\"20bf1ffeb6\",\"server\":\"7868\",\"farm\":8,\"title\":\"Untitled\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46591781825\",\"owner\":\"77844259@N02\",\"secret\":\"dbeac1f5e7\",\"server\":\"7847\",\"farm\":8,\"title\":\"Solaris Urbino 12 ex-BU822 2 ul Lipowa Krak\\u00f3w 31mar2019 flickr\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"40541276313\",\"owner\":\"77844259@N02\",\"secret\":\"66b7702336\",\"server\":\"7876\",\"farm\":8,\"title\":\"Solaris Urbino 12 ex-BU822 3 ul Lipowa Krak\\u00f3w 31mar2019 flickr\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"33630548168\",\"owner\":\"66472024@N03\",\"secret\":\"be47dbfba3\",\"server\":\"7891\",\"farm\":8,\"title\":\"DJS_0449.jpg\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"32564981837\",\"owner\":\"66472024@N03\",\"secret\":\"a68b8f0a27\",\"server\":\"7881\",\"farm\":8,\"title\":\"DJS_0446.jpg\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"46591756655\",\"owner\":\"66472024@N03\",\"secret\":\"2049baaae9\",\"server\":\"7887\",\"farm\":8,\"title\":\"DJS_0444.jpg\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"33630544958\",\"owner\":\"66472024@N03\",\"secret\":\"a38ea3e1b6\",\"server\":\"7915\",\"farm\":8,\"title\":\"DJS_0442.jpg\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"33630543698\",\"owner\":\"142548518@N05\",\"secret\":\"9bbf716e38\",\"server\":\"7901\",\"farm\":8,\"title\":\"Super Daddy!\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"32564977467\",\"owner\":\"66472024@N03\",\"secret\":\"c493abe29d\",\"server\":\"7863\",\"farm\":8,\"title\":\"DJS_0435.jpg\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"40541253353\",\"owner\":\"66472024@N03\",\"secret\":\"8c9958acd2\",\"server\":\"7910\",\"farm\":8,\"title\":\"DJS_0431.jpg\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"33630540698\",\"owner\":\"66472024@N03\",\"secret\":\"dfc36d99c6\",\"server\":\"7892\",\"farm\":8,\"title\":\"DJS_0430.jpg\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"47454579772\",\"owner\":\"167818317@N08\",\"secret\":\"d71cba5928\",\"server\":\"7891\",\"farm\":8,\"title\":\"a Sunday walk\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0}]},\"stat\":\"ok\"}".utf8)))
        }
    }
}

class FlickrClientTests: XCTestCase {

    private var flikrPhotos: [FlickrPhoto]?
    
    private var networkManager: NetworkManagerProtocol!
    private var photosDataController: FlickrPhotosDataController!
    
    override func setUp() {
        super.setUp()
        
        networkManager = MockNetworkManager.init()
        photosDataController = FlickrPhotosDataController.init(networkService: networkManager)
        
    }

    override func tearDown() {
        // Put teardown code here. This method is called after the invocation of each test method in the class.
        
        super.tearDown()
        
        networkManager = nil
        photosDataController = nil
    }

    func testSendRequestForSomeSearchTerm() {
    
        //given
        let someSearchTerm = "Flickr"
        photosDataController.searchText = someSearchTerm
        
        //when
        photosDataController.fetchPhotos()
        
        ///add a delay while fetching..
        //then
        XCTAssertTrue(photosDataController.photos.count == 100, "Successs")
    }
    
    func testFetchMore() {
        let fetchMoreExpectation = expectation(description: "fetch More")
        
        
        photosDataController.fetchPhotos()
        
    }

    func testPerformanceExample() {
        // This is an example of a performance test case.
        self.measure {
            // Put the code you want to measure the time of here.
        }
    }

}
